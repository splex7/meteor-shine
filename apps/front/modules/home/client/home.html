<template name="home">
  <article class="page">
      {{#if noBlogs}}
        {{_ 'text_no_blogs'}}
      {{else}}
        <div class="row-fluid">
          <div class="btn-toolbar" role="toolbar">
            <div class="btn-group" role="group">
              <a class="btn btn-default">Total Blogs: {{getPublishedCount 'blogsCount'}}</a>
            </div>
            <div class="btn-group" role="group">
              <a class="btn btn-primary" href="{{pathFor 'blogNew'}}">{{_ 'command_new'}}</a>
            </div>
          </div>
        </div>

        <div class="row-fluid">
          {{#each blogs}}
            {{> homeListItem}}
          {{/each}}
        </div>

        <div class="row-fluid">
          {{#if hasMore}}
            <a class="btn btn-default btn-block load-more">Load More</a>
          {{else}}
            {{#unless ready}}
              {{> listLoading}}
            {{/unless}}
          {{/if}}
        </div>
      {{/if}}
  </article>
</template>

<template name="homeListItem">
  {{showDataContext}}
  <div class="panel panel-default">
    <div class="panel-heading">
      <h4>
        <a href="{{pathFor 'blogOne'}}">{{title}} - {{commentCount}}<small>{{userDisplayName user}} {{momentFromNow createdAt}}</small></a>
      </h4>
    </div>
    <!--<div class="panel-body">-->
      <!--<div class="line-clamp-2">-->
        <!--{{blog_content}}-->
      <!--</div>-->
    <!--</div>-->
    {{#if ownBlog}}
    <a href="#" class="delete-btn">Delete</a>
    {{/if}}
  </div>
</template>
